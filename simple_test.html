<!DOCTYPE html>
<html>
<head>
    <title>Simple Test</title>
</head>
<body>
    <h2>Simple Face-API Test</h2>
    
    <!-- Load face-api from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
    
    <div id="status">Testing...</div>
    <video id="video" autoplay width="640" height="480"></video>
    
    <script>
        const status = document.getElementById('status');
        const video = document.getElementById('video');
        
        async function start() {
            status.innerHTML = '1. Checking face-api.js...<br>';
            
            if (typeof faceapi !== 'undefined') {
                status.innerHTML += '‚úÖ face-api.js loaded!<br>';
            } else {
                status.innerHTML += '‚ùå face-api.js NOT loaded!<br>';
                return;
            }
            
            status.innerHTML += '2. Loading models from CDN...<br>';
            
            try {
                await faceapi.nets.tinyFaceDetector.load(
                    'https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights/tiny_face_detector_model-weights_manifest.json'
                );
                status.innerHTML += '‚úÖ Tiny face detector loaded!<br>';
                
                await faceapi.nets.faceLandmark68Net.load(
                    'https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights/face_landmark_68_model-weights_manifest.json'
                );
                status.innerHTML += '‚úÖ Face landmarks loaded!<br>';
                
                status.innerHTML += '3. Starting webcam...<br>';
                
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                video.srcObject = stream;
                
                status.innerHTML += '‚úÖ Webcam started! Looking for faces...<br>';
                
                // Try detection
                setInterval(async () => {
                    const detection = await faceapi.detectSingleFace(video, new faceapi.TinyFaceDetectorOptions());
                    if (detection) {
                        status.innerHTML += 'üéØ Face detected! ';
                    }
                }, 1000);
                
            } catch (error) {
                status.innerHTML += '‚ùå Error: ' + error.message + '<br>';
                console.error(error);
            }
        }
        
        start();
    </script>
</body>
</html>